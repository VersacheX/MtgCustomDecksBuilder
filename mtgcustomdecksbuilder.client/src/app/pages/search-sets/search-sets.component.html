<h1 id="tableLabel">Mtg Sets</h1>

<p>This component demonstrates fetching data from the server.</p>

<table class="table" style="max-width:650px;" >
  <tr>
    <td>
      <table class="table">
        <tr>
          <td>
            <label for="setNameText" class="form-label">Set Name</label>
            <input type="text"
                   id="setNameText"
                   class="form-control"
                   [(ngModel)]="searchCriteria.SetName" />
          </td>
        </tr>
        <tr>
          <td>
            <label for="setTypeSelect" class="form-label">Set Type</label>
            <select id="setTypeSelect" class="form-control" [(ngModel)]="searchCriteria.SetType">
              <option [ngValue]="undefined">Any</option>
              <option *ngFor="let setType of setTypes" [ngValue]="setType.name">{{setType.name}}</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>
            <div class="form-check">
              <input type="checkbox"
                     id="paperOnlyCheckbox"
                     class="form-check-input"
                     [(ngModel)]="searchCriteria.PaperOnly">
              <label class="form-check-label" for="paperOnlyCheckbox">Online Only</label>
            </div>
          </td>
        </tr>
      </table>
    </td>
    <td style="vertical-align: top;">
        <label for="dateRangeFrom" class="form-label">Date Range</label>

        <input type="text"
               id="dateRangeFrom"
               class="form-control"
               placeholder="Date From"
               [(ngModel)]="searchCriteria.FromDate"
               bsDatepicker />

        <input type="text"
               class="form-control"
               placeholder="Date To"
               [(ngModel)]="searchCriteria.ToDate"
               bsDatepicker />
    </td>
    <td style="vertical-align: top;">
      <label for="fromSetSelect" class="form-label">Set Range</label>
      <select id="fromSetSelect" class="form-control" (change)="SetsFromChanged()" [(ngModel)]="searchCriteria.SetFromDate">
        <option [ngValue]="undefined">Any</option>
        <option *ngFor="let set of fromSetData" [ngValue]="set.releaseDate">{{set.name}} - {{set.releaseDate|date:'yyyy-MM-dd'}}</option>
      </select>
      <select id="toSetSelect" class="form-control" (change)="SetsToChanged()" [(ngModel)]="searchCriteria.SetToDate">
        <option [ngValue]="undefined">Any</option>
        <option *ngFor="let set of toSetData" [ngValue]="set.releaseDate">{{set.name}} - {{set.releaseDate|date:'yyyy-MM-dd'}}</option>
      </select>
    </td>
  </tr>
  <tr>
    <td align="right">
      <button type="button" class="btn btn-outline-secondary" (click)="LoadDataGridsData()">Search</button>
    </td>
  </tr>
</table>

<p *ngIf="!mtgSetsSearchResults"><em>Loading...</em></p>
<table datatable *ngIf="mtgSetsSearchResults" width="100%">
  <thead>
    <tr>
      <th width="25%">Name</th>
      <th width="25%">Expansion</th>
      <th width="25%">Code</th>
      <th width="25%">Block</th>
      <th width="25%">Type</th>
      <th width="25%">Online Only</th>
      <th width="25%">ReleaseDate</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let set of mtgSetsSearchResults">
      <td width="25%">
        {{set.Name}}
      </td>
      <td width="25%">
        {{set.Expansion}}
      </td>
      <td width="25%">
        {{set.Code}}
      </td>
      <td width="25%">
        {{set.Block}}
      </td>
      <td width="25%">
        {{set.Type}}
      </td>
      <td width="25%">
        {{set.OnlineOnly}}
      </td>
      <td width="25%">
        {{set.ReleaseDate|date:'yyyy-MM-dd'}}
      </td>
    </tr>
  </tbody>

</table>
